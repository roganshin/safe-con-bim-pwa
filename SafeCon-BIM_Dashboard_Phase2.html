<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Con-BIM Phase 2 - í†µí•© ê´€ì œ ëŒ€ì‹œë³´ë“œ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0a;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* í—¤ë” */
        .dashboard-header {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border-bottom: 2px solid #21262d;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: url('./ChatGPT Image 2025ë…„ 7ì›” 23ì¼ ì˜¤í›„ 09_03_23.png') center/contain no-repeat;
            filter: brightness(1.2);
        }

        .logo-text {
            font-size: 1.5em;
            font-weight: 700;
            color: #f0f6fc;
        }

        .phase-badge {
            background: linear-gradient(135deg, #58a6ff, #1f6feb);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .header-center {
            text-align: center;
        }

        .site-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #f0f6fc;
            margin-bottom: 2px;
        }

        .site-subtitle {
            font-size: 0.9em;
            color: #8b949e;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: #21262d;
            border-radius: 8px;
            font-size: 0.9em;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-online { background: #2ea043; }
        .status-warning { background: #fb8500; }
        .status-offline { background: #f85149; }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .main-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            padding: 20px 30px;
            min-height: calc(100vh - 100px);
        }

        /* ì™¼ìª½ ë©”ì¸ ì˜ì—­ */
        .main-content {
            display: grid;
            grid-template-rows: auto 1fr auto;
            gap: 20px;
        }

        /* í†µê³„ ì¹´ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .stat-card {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #30363d;
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }

        .stat-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
            filter: drop-shadow(0 0 8px rgba(88, 166, 255, 0.3));
        }

        .stat-value {
            font-size: 2em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9em;
            color: #8b949e;
        }

        .stat-change {
            font-size: 0.8em;
            margin-top: 5px;
        }

        .change-up { color: #2ea043; }
        .change-down { color: #f85149; }

        /* í˜„ì¥ ëª¨ë‹ˆí„°ë§ */
        .monitoring-section {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #f0f6fc;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .view-toggle {
            display: flex;
            background: #21262d;
            border-radius: 8px;
            overflow: hidden;
        }

        .toggle-btn {
            background: none;
            border: none;
            color: #8b949e;
            padding: 8px 15px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .toggle-btn.active {
            background: #58a6ff;
            color: white;
        }

        /* í˜„ì¥ ê·¸ë¦¬ë“œ */
        .site-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .site-card {
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .site-card:hover {
            border-color: #58a6ff;
            box-shadow: 0 4px 12px rgba(88, 166, 255, 0.15);
        }

        .site-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .site-name {
            font-weight: 600;
            color: #f0f6fc;
        }

        .site-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .status-safe {
            background: #2ea043;
            color: white;
        }

        .status-warning {
            background: #fb8500;
            color: white;
        }

        .status-danger {
            background: #f85149;
            color: white;
        }

        .sensor-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .sensor-item {
            background: #161b22;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }

        .sensor-value {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .sensor-label {
            font-size: 0.8em;
            color: #8b949e;
        }

        .workers-count {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 8px;
            background: #161b22;
            border-radius: 8px;
        }

        /* ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°” */
        .sidebar {
            display: grid;
            grid-template-rows: auto auto auto auto 1fr;
            gap: 20px;
        }

        /* AI ìœ„í—˜ ì˜ˆì¸¡ */
        .ai-prediction {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
        }

        .prediction-item {
            background: #21262d;
            border-left: 4px solid;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 10px;
        }

        .prediction-critical {
            border-left-color: #f85149;
            background: rgba(248, 81, 73, 0.1);
        }

        .prediction-warning {
            border-left-color: #fb8500;
            background: rgba(251, 133, 0, 0.1);
        }

        .prediction-info {
            border-left-color: #58a6ff;
            background: rgba(88, 166, 255, 0.1);
        }

        .prediction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .prediction-title {
            font-weight: 600;
            font-size: 0.9em;
        }

        .prediction-probability {
            font-size: 0.8em;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
        }

        .prediction-description {
            font-size: 0.85em;
            color: #c9d1d9;
            line-height: 1.4;
        }

        /* ì‹¤ì‹œê°„ ì•Œë¦¼ */
        .live-alerts {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
        }

        .alert-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .alert-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px;
            border-bottom: 1px solid #21262d;
            transition: all 0.2s ease;
        }

        .alert-item:hover {
            background: rgba(88, 166, 255, 0.05);
        }

        .alert-icon {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-top: 6px;
            animation: pulse 2s infinite;
        }

        .alert-content {
            flex: 1;
        }

        .alert-text {
            font-size: 0.9em;
            color: #f0f6fc;
            margin-bottom: 2px;
        }

        .alert-time {
            font-size: 0.8em;
            color: #8b949e;
        }

        /* ì‘ê¸‰ ìƒí™© íŒ¨ë„ */
        .emergency-panel {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
        }

        .emergency-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .emergency-btn {
            background: linear-gradient(135deg, #f85149, #da3633);
            border: none;
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .emergency-btn:hover {
            background: linear-gradient(135deg, #ff6b6b, #f85149);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(248, 81, 73, 0.3);
        }

        .emergency-btn.stop {
            background: linear-gradient(135deg, #6e7681, #484f58);
        }

        .emergency-contacts {
            background: #21262d;
            border-radius: 8px;
            padding: 15px;
        }

        .contact-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #30363d;
        }

        .contact-item:last-child {
            border-bottom: none;
        }

        .contact-call {
            background: #2ea043;
            border: none;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            cursor: pointer;
        }

        /* ë‚ ì”¨ ì¹´ë“œ */
        .weather-card {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
        }

        .weather-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .weather-main {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .weather-icon {
            font-size: 3em;
            text-align: center;
            filter: drop-shadow(0 0 10px rgba(88, 166, 255, 0.3));
        }

        .weather-info {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .weather-temp {
            font-size: 2em;
            font-weight: 700;
            color: #f0f6fc;
            margin-bottom: 5px;
        }

        .weather-condition {
            font-size: 1em;
            color: #8b949e;
            margin-bottom: 5px;
        }

        .weather-feels {
            font-size: 0.85em;
            color: #8b949e;
        }

        .weather-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        .weather-detail {
            background: #21262d;
            border-radius: 8px;
            padding: 10px;
            text-align: center;
        }

        .detail-value {
            font-size: 1.1em;
            font-weight: 600;
            color: #f0f6fc;
            margin-bottom: 2px;
        }

        .detail-label {
            font-size: 0.8em;
            color: #8b949e;
        }

        .weather-impact {
            background: #21262d;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .impact-title {
            font-size: 0.9em;
            font-weight: 600;
            color: #f0f6fc;
            margin-bottom: 8px;
        }

        .impact-level {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
        }

        .impact-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .impact-low { background: #2ea043; }
        .impact-medium { background: #fb8500; }
        .impact-high { background: #f85149; }

        .impact-text {
            font-size: 0.85em;
            color: #c9d1d9;
        }

        .weather-forecast {
            background: #21262d;
            border-radius: 8px;
            padding: 12px;
        }

        .forecast-title {
            font-size: 0.9em;
            font-weight: 600;
            color: #f0f6fc;
            margin-bottom: 10px;
        }

        .forecast-hours {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .forecast-hour {
            text-align: center;
            padding: 8px 4px;
            background: #161b22;
            border-radius: 6px;
        }

        .forecast-time {
            font-size: 0.7em;
            color: #8b949e;
            margin-bottom: 4px;
        }

        .forecast-icon {
            font-size: 1.2em;
            margin-bottom: 4px;
        }

        .forecast-temp {
            font-size: 0.8em;
            font-weight: 600;
            color: #f0f6fc;
        }

        .weather-alerts {
            margin-top: 15px;
        }

        .weather-alert {
            background: rgba(248, 81, 73, 0.1);
            border: 1px solid #f85149;
            border-radius: 6px;
            padding: 8px;
            margin-bottom: 8px;
        }

        .weather-alert.warning {
            background: rgba(251, 133, 0, 0.1);
            border-color: #fb8500;
        }

        .alert-weather-text {
            font-size: 0.85em;
            color: #f0f6fc;
        }

        /* ì²´í¬ë¦¬ìŠ¤íŠ¸ ì¹´ë“œ */
        .checklist-dashboard {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
        }

        .checklist-summary {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .checklist-metric {
            background: #21262d;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }

        .checklist-number {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .checklist-label {
            font-size: 0.8em;
            color: #8b949e;
        }

        .checklist-completed { color: #2ea043; }
        .checklist-pending { color: #fb8500; }
        .checklist-critical { color: #f85149; }

        .recent-checklists {
            background: #21262d;
            border-radius: 8px;
            padding: 12px;
            max-height: 200px;
            overflow-y: auto;
        }

        .checklist-item-dash {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            margin-bottom: 8px;
            background: #161b22;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checklist-item-dash:hover {
            background: #1f2937;
        }

        .checklist-info {
            flex: 1;
        }

        .checklist-title {
            font-size: 0.9em;
            font-weight: 600;
            color: #f0f6fc;
            margin-bottom: 2px;
        }

        .checklist-meta {
            font-size: 0.7em;
            color: #8b949e;
        }

        .checklist-status {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
        }

        .status-complete {
            background: #2ea043;
            color: white;
        }

        .status-progress {
            background: #fb8500;
            color: white;
        }

        /* ì‘ì—…ì ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid #21262d;
            padding-bottom: 15px;
        }

        .modal-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #f0f6fc;
        }

        .modal-close {
            background: none;
            border: none;
            color: #8b949e;
            font-size: 1.5em;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: #21262d;
            color: #f0f6fc;
        }

        .worker-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .worker-card {
            background: #21262d;
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #30363d;
            transition: all 0.2s ease;
        }

        .worker-card:hover {
            border-color: #58a6ff;
            box-shadow: 0 4px 12px rgba(88, 166, 255, 0.15);
        }

        .worker-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .worker-avatar-modal {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #58a6ff, #1f6feb);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 12px;
            border: 2px solid #30363d;
        }

        .worker-details {
            flex: 1;
        }

        .worker-name-modal {
            font-weight: 600;
            color: #f0f6fc;
            margin-bottom: 3px;
        }

        .worker-role-modal {
            font-size: 0.8em;
            color: #8b949e;
        }

        .worker-status-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
        }

        .worker-location {
            font-size: 0.8em;
            color: #c9d1d9;
        }

        .worker-status-badge {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
        }

        .status-online {
            background: #2ea043;
            color: white;
        }

        .status-offline {
            background: #f85149;
            color: white;
        }

        .status-idle {
            background: #fb8500;
            color: white;
        }

        /* CCTV ëª¨ë‹¬ */
        .cctv-modal {
            max-width: 90%;
            width: 1200px;
        }

        .cctv-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .cctv-card {
            background: #21262d;
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #30363d;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .cctv-card:hover {
            border-color: #58a6ff;
            box-shadow: 0 4px 12px rgba(88, 166, 255, 0.15);
        }

        .cctv-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .cctv-title {
            font-weight: 600;
            color: #f0f6fc;
        }

        .cctv-status {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: 600;
        }

        .cctv-active {
            background: #2ea043;
            color: white;
        }

        .cctv-inactive {
            background: #6e7681;
            color: white;
        }

        .cctv-preview {
            width: 100%;
            height: 150px;
            background: #0d1117;
            border-radius: 6px;
            border: 1px solid #30363d;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .cctv-placeholder {
            color: #6e7681;
            text-align: center;
        }

        .cctv-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: #8b949e;
        }

        /* ì „ì²´í™”ë©´ CCTV ë·°ì–´ */
        .cctv-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            display: flex;
            flex-direction: column;
        }

        .cctv-viewer-header {
            background: #161b22;
            border-bottom: 1px solid #21262d;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cctv-viewer-title {
            color: #f0f6fc;
            font-size: 1.2em;
            font-weight: 600;
        }

        .cctv-controls {
            display: flex;
            gap: 10px;
        }

        .cctv-btn {
            background: #21262d;
            border: 1px solid #30363d;
            color: #f0f6fc;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .cctv-btn:hover {
            background: #30363d;
            border-color: #58a6ff;
        }

        .cctv-viewer-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .cctv-screen {
            width: 100%;
            max-width: 1200px;
            height: 70vh;
            background: #0d1117;
            border: 2px solid #21262d;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .cctv-feed {
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #0d1117 25%, transparent 25%), 
                        linear-gradient(-45deg, #0d1117 25%, transparent 25%),
                        linear-gradient(45deg, transparent 75%, #0d1117 75%), 
                        linear-gradient(-45deg, transparent 75%, #0d1117 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cctv-overlay {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.9em;
        }

        .hidden {
            display: none !important;
        }

        /* í•˜ë‹¨ ì œì–´ íŒ¨ë„ */
        .control-panel {
            background: linear-gradient(135deg, #161b22 0%, #0d1117 100%);
            border: 1px solid #21262d;
            border-radius: 12px;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .control-group {
            text-align: center;
        }

        .control-label {
            font-size: 0.9em;
            color: #8b949e;
            margin-bottom: 10px;
        }

        .control-btn {
            background: linear-gradient(135deg, #58a6ff, #1f6feb);
            border: none;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #6cb6ff, #4184f4);
            transform: translateY(-2px);
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #6e7681, #484f58);
        }

        /* ë°˜ì‘í˜• */
                    @media (max-width: 1400px) {
            .main-container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                grid-template-columns: repeat(2, 1fr);
                grid-template-rows: auto auto;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .site-grid {
                grid-template-columns: 1fr;
            }

            .sidebar {
                grid-template-columns: 1fr;
            }
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #21262d;
            border-top: 3px solid #58a6ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <div class="dashboard-header">
        <div class="header-left">
            <div class="logo">
                <div class="logo-icon"></div>
                <div class="logo-text">Safe Con-BIM</div>
            </div>
            <div class="phase-badge">Phase 2 - IoT í†µí•©ê´€ì œ</div>
        </div>
        <div class="header-center">
            <div class="site-title">ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ ê±´ì„¤í˜„ì¥</div>
            <div class="site-subtitle">ì‹¤ì‹œê°„ í†µí•© ì•ˆì „ê´€ë¦¬ ì‹œìŠ¤í…œ</div>
        </div>
        <div class="header-right">
            <div class="status-indicator">
                <div class="status-dot status-online"></div>
                <span>ì‹œìŠ¤í…œ ì •ìƒ</span>
            </div>
            <div class="status-indicator">
                <i class="fas fa-clock"></i>
                <span id="current-time">14:32:15</span>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="main-container">
        <!-- ì™¼ìª½ ë©”ì¸ ì˜ì—­ -->
        <div class="main-content">
            <!-- í†µê³„ ì¹´ë“œ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="color: #2ea043;">ğŸ‘·</div>
                    <div class="stat-value" style="color: #2ea043;" id="total-workers">47</div>
                    <div class="stat-label">í˜„ì¬ ì‘ì—…ì</div>
                    <div class="stat-change change-up">â–² 3ëª… ì¦ê°€</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="color: #58a6ff;">ğŸ“¡</div>
                    <div class="stat-value" style="color: #58a6ff;" id="active-sensors">124</div>
                    <div class="stat-label">í™œì„± ì„¼ì„œ</div>
                    <div class="stat-change change-up">â–² 98% ê°€ë™</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="color: #fb8500;">âš ï¸</div>
                    <div class="stat-value" style="color: #fb8500;" id="risk-alerts">3</div>
                    <div class="stat-label">ìœ„í—˜ ì•Œë¦¼</div>
                    <div class="stat-change change-down">â–¼ 2ê±´ ê°ì†Œ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon" style="color: #2ea043;">ğŸ›¡ï¸</div>
                    <div class="stat-value" style="color: #2ea043;" id="safety-score">92</div>
                    <div class="stat-label">ì•ˆì „ ì ìˆ˜</div>
                    <div class="stat-change change-up">â–² 5ì  í–¥ìƒ</div>
                </div>
            </div>

            <!-- í˜„ì¥ ëª¨ë‹ˆí„°ë§ -->
            <div class="monitoring-section">
                <div class="section-header">
                    <div class="section-title">
                        <i class="fas fa-building"></i>
                        ì‹¤ì‹œê°„ í˜„ì¥ ëª¨ë‹ˆí„°ë§
                    </div>
                    <div class="view-toggle">
                        <button class="toggle-btn active" onclick="switchView('grid')">ê²©ìë·°</button>
                        <button class="toggle-btn" onclick="switchView('list')">ëª©ë¡ë·°</button>
                    </div>
                </div>

                <div class="site-grid" id="site-grid">
                    <!-- Aë™ -->
                    <div class="site-card" onclick="showCCTVModal('Aë™')">
                        <div class="site-header">
                            <div class="site-name">Aë™ (ì§€í•˜1ì¸µ~ì§€ìƒ5ì¸µ)</div>
                            <div class="site-status status-safe">ì•ˆì „</div>
                        </div>
                        <div class="sensor-grid">
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">23Â°C</div>
                                <div class="sensor-label">ì˜¨ë„</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #58a6ff;">62%</div>
                                <div class="sensor-label">ìŠµë„</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #fb8500;">78dB</div>
                                <div class="sensor-label">ì†ŒìŒ</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">Good</div>
                                <div class="sensor-label">ê³µê¸°ì§ˆ</div>
                            </div>
                        </div>
                                        <div class="workers-count" onclick="showWorkersList('Aë™')">
                    <i class="fas fa-users"></i>
                    <span>ì‘ì—…ì 18ëª…</span>
                    <i class="fas fa-chevron-right" style="margin-left: auto; color: #58a6ff;"></i>
                </div>
            </div>

                    <!-- Bë™ -->
                    <div class="site-card" onclick="showCCTVModal('Bë™')">
                        <div class="site-header">
                            <div class="site-name">Bë™ (ì§€ìƒ1ì¸µ~ì§€ìƒ3ì¸µ)</div>
                            <div class="site-status status-warning">ì£¼ì˜</div>
                        </div>
                        <div class="sensor-grid">
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #fb8500;">27Â°C</div>
                                <div class="sensor-label">ì˜¨ë„</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #58a6ff;">55%</div>
                                <div class="sensor-label">ìŠµë„</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #f85149;">85dB</div>
                                <div class="sensor-label">ì†ŒìŒ</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #fb8500;">Fair</div>
                                <div class="sensor-label">ê³µê¸°ì§ˆ</div>
                            </div>
                        </div>
                                        <div class="workers-count" onclick="showWorkersList('Bë™')">
                    <i class="fas fa-users"></i>
                    <span>ì‘ì—…ì 15ëª…</span>
                    <i class="fas fa-chevron-right" style="margin-left: auto; color: #58a6ff;"></i>
                </div>
            </div>

                    <!-- Cë™ -->
                    <div class="site-card" onclick="showCCTVModal('Cë™')">
                        <div class="site-header">
                            <div class="site-name">Cë™ (ê¸°ê³„ì‹¤/ì£¼ì°¨ì¥)</div>
                            <div class="site-status status-safe">ì•ˆì „</div>
                        </div>
                        <div class="sensor-grid">
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">21Â°C</div>
                                <div class="sensor-label">ì˜¨ë„</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #58a6ff;">58%</div>
                                <div class="sensor-label">ìŠµë„</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">65dB</div>
                                <div class="sensor-label">ì†ŒìŒ</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">Good</div>
                                <div class="sensor-label">ê³µê¸°ì§ˆ</div>
                            </div>
                        </div>
                        <div class="workers-count" onclick="showWorkersList('Cë™')">
                            <i class="fas fa-users"></i>
                            <span>ì‘ì—…ì 14ëª…</span>
                            <i class="fas fa-chevron-right" style="margin-left: auto; color: #58a6ff;"></i>
                        </div>
                    </div>

                    <!-- ì™¸ë¶€ ì‘ì—…êµ¬ì—­ -->
                    <div class="site-card" onclick="showCCTVModal('ì™¸ë¶€ì‘ì—…êµ¬ì—­')">
                        <div class="site-header">
                            <div class="site-name">ì™¸ë¶€ ì‘ì—…êµ¬ì—­</div>
                            <div class="site-status status-safe">ì•ˆì „</div>
                        </div>
                        <div class="sensor-grid">
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #58a6ff;">19Â°C</div>
                                <div class="sensor-label">ì™¸ê¸°ì˜¨</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">3m/s</div>
                                <div class="sensor-label">í’ì†</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">500m</div>
                                <div class="sensor-label">ì‹œì •</div>
                            </div>
                            <div class="sensor-item">
                                <div class="sensor-value" style="color: #2ea043;">0%</div>
                                <div class="sensor-label">ê°•ìˆ˜</div>
                            </div>
                        </div>
                        <div class="workers-count" onclick="showWorkersList('ì™¸ë¶€ì‘ì—…êµ¬ì—­')">
                            <i class="fas fa-users"></i>
                            <span>í¬ë ˆì¸ ê¸°ì‚¬ ë“± 5ëª…</span>
                            <i class="fas fa-chevron-right" style="margin-left: auto; color: #58a6ff;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- í•˜ë‹¨ ì œì–´ íŒ¨ë„ -->
            <div class="control-panel">
                <div class="control-group">
                    <div class="control-label">ì „ì²´ ì‹œìŠ¤í…œ</div>
                    <button class="control-btn" onclick="refreshAllSensors()">
                        <i class="fas fa-sync-alt"></i> ì„¼ì„œ ìƒˆë¡œê³ ì¹¨
                    </button>
                </div>
                <div class="control-group">
                    <div class="control-label">AI ë¶„ì„</div>
                    <button class="control-btn" onclick="runAIAnalysis()">
                        <i class="fas fa-brain"></i> ìœ„í—˜ ë¶„ì„ ì‹¤í–‰
                    </button>
                </div>
                <div class="control-group">
                    <div class="control-label">ë³´ê³ ì„œ</div>
                    <button class="control-btn secondary" onclick="generateReport()">
                        <i class="fas fa-file-alt"></i> ì¼ì¼ ë³´ê³ ì„œ ìƒì„±
                    </button>
                </div>
            </div>
        </div>

        <!-- ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°” -->
        <div class="sidebar">
            <!-- í˜„ì¥ ë‚ ì”¨ ëª¨ë‹ˆí„°ë§ -->
            <div class="weather-card">
                <div class="weather-header">
                    <div class="section-title">
                        <i class="fas fa-cloud-sun"></i>
                        í˜„ì¥ ë‚ ì”¨
                    </div>
                    <div style="font-size: 0.8em; color: #8b949e;" id="weather-update">
                        5ë¶„ ì „ ì—…ë°ì´íŠ¸
                    </div>
                </div>

                <div class="weather-main">
                    <div class="weather-icon" id="weather-icon">â›…</div>
                    <div class="weather-info">
                        <div class="weather-temp" id="weather-temp">19Â°C</div>
                        <div class="weather-condition" id="weather-condition">êµ¬ë¦„ë§ìŒ</div>
                        <div class="weather-feels">ì²´ê°ì˜¨ë„ <span id="feels-like">17Â°C</span></div>
                    </div>
                </div>

                <div class="weather-details">
                    <div class="weather-detail">
                        <div class="detail-value" id="humidity">62%</div>
                        <div class="detail-label">ìŠµë„</div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-value" id="wind-speed">3.2m/s</div>
                        <div class="detail-label">í’ì†</div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-value" id="visibility">10km</div>
                        <div class="detail-label">ì‹œì •</div>
                    </div>
                    <div class="weather-detail">
                        <div class="detail-value" id="precipitation">0%</div>
                        <div class="detail-label">ê°•ìˆ˜í™•ë¥ </div>
                    </div>
                </div>

                <div class="weather-impact">
                    <div class="impact-title">ì‘ì—… ì˜í–¥ë„</div>
                    <div class="impact-level">
                        <div class="impact-indicator impact-low"></div>
                        <div class="impact-text">ëª¨ë“  ì‘ì—… ê°€ëŠ¥ (ì–‘í˜¸)</div>
                    </div>
                </div>

                <div class="weather-forecast">
                    <div class="forecast-title">4ì‹œê°„ ì˜ˆë³´</div>
                    <div class="forecast-hours">
                        <div class="forecast-hour">
                            <div class="forecast-time">15:00</div>
                            <div class="forecast-icon">ğŸŒ¤ï¸</div>
                            <div class="forecast-temp">20Â°C</div>
                        </div>
                        <div class="forecast-hour">
                            <div class="forecast-time">16:00</div>
                            <div class="forecast-icon">â˜ï¸</div>
                            <div class="forecast-temp">19Â°C</div>
                        </div>
                        <div class="forecast-hour">
                            <div class="forecast-time">17:00</div>
                            <div class="forecast-icon">ğŸŒ§ï¸</div>
                            <div class="forecast-temp">18Â°C</div>
                        </div>
                        <div class="forecast-hour">
                            <div class="forecast-time">18:00</div>
                            <div class="forecast-icon">ğŸŒ§ï¸</div>
                            <div class="forecast-temp">17Â°C</div>
                        </div>
                    </div>
                </div>

                <div class="weather-alerts">
                    <div class="weather-alert warning">
                        <div class="alert-weather-text">
                            âš ï¸ 17:00ë¶€í„° ì†Œë‚˜ê¸° ì˜ˆìƒ - ì™¸ë¶€ì‘ì—… ì£¼ì˜
                        </div>
                    </div>
                </div>
            </div>

            <!-- ëª¨ë°”ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìˆ˜ì‹  -->
            <div class="checklist-dashboard">
                <div class="section-header">
                    <div class="section-title">
                        <i class="fas fa-clipboard-check"></i>
                        ëª¨ë°”ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸
                    </div>
                    <div style="font-size: 0.8em; color: #8b949e;" id="checklist-update">
                        ì‹¤ì‹œê°„ ë™ê¸°í™”
                    </div>
                </div>

                <div class="checklist-summary">
                    <div class="checklist-metric">
                        <div class="checklist-number checklist-completed" id="total-completed">12</div>
                        <div class="checklist-label">ì™„ë£Œë¨</div>
                    </div>
                    <div class="checklist-metric">
                        <div class="checklist-number checklist-pending" id="total-pending">3</div>
                        <div class="checklist-label">ì§„í–‰ì¤‘</div>
                    </div>
                    <div class="checklist-metric">
                        <div class="checklist-number checklist-critical" id="total-critical">1</div>
                        <div class="checklist-label">í•„ìˆ˜ ë¯¸ì™„ë£Œ</div>
                    </div>
                </div>

                <div style="font-size: 0.9em; font-weight: 600; color: #f0f6fc; margin-bottom: 10px;">
                    ìµœê·¼ ì œì¶œëœ ì²´í¬ë¦¬ìŠ¤íŠ¸
                </div>

                <div class="recent-checklists">
                    <div class="checklist-item-dash" onclick="viewChecklistDetail('checklist-1')">
                        <div class="checklist-info">
                            <div class="checklist-title">Aë™ 3ì¸µ ì¼ì¼ ì•ˆì „ì ê²€</div>
                            <div class="checklist-meta">ê¹€í˜„ìˆ˜ ê´€ë¦¬ì â€¢ 2ë¶„ ì „</div>
                        </div>
                        <div class="checklist-status status-complete">ì™„ë£Œ</div>
                    </div>

                    <div class="checklist-item-dash" onclick="viewChecklistDetail('checklist-2')">
                        <div class="checklist-info">
                            <div class="checklist-title">Bë™ 1ì¸µ PPE ì ê²€</div>
                            <div class="checklist-meta">ì´ì² í˜¸ ì‘ì—…ì â€¢ 15ë¶„ ì „</div>
                        </div>
                        <div class="checklist-status status-progress">ì§„í–‰ì¤‘</div>
                    </div>

                    <div class="checklist-item-dash" onclick="viewChecklistDetail('checklist-3')">
                        <div class="checklist-info">
                            <div class="checklist-title">Cë™ ì¥ë¹„ ì•ˆì „ì ê²€</div>
                            <div class="checklist-meta">ë°•ë¯¼ìˆ˜ ê¸°ì‚¬ â€¢ 32ë¶„ ì „</div>
                        </div>
                        <div class="checklist-status status-complete">ì™„ë£Œ</div>
                    </div>

                    <div class="checklist-item-dash" onclick="viewChecklistDetail('checklist-4')">
                        <div class="checklist-info">
                            <div class="checklist-title">ì „ì²´ í™˜ê²½ ì ê²€</div>
                            <div class="checklist-meta">ì •ìš°ì§„ ì•ˆì „ê´€ë¦¬ì â€¢ 1ì‹œê°„ ì „</div>
                        </div>
                        <div class="checklist-status status-progress">ì§„í–‰ì¤‘</div>
                    </div>
                </div>
            </div>

            <!-- AI ìœ„í—˜ ì˜ˆì¸¡ -->
            <div class="ai-prediction">
                <div class="section-header">
                    <div class="section-title">
                        <i class="fas fa-brain"></i>
                        AI ìœ„í—˜ ì˜ˆì¸¡
                    </div>
                </div>

                <div class="prediction-item prediction-warning">
                    <div class="prediction-header">
                        <div class="prediction-title">í¬ë ˆì¸ ì‘ì—… ì¶©ëŒ ìœ„í—˜</div>
                        <div class="prediction-probability">73%</div>
                    </div>
                    <div class="prediction-description">
                        15:30ê²½ Bë™ 3ì¸µ í¬ë ˆì¸ ì‘ì—… ì‹œ Aë™ ì‘ì—…ìì™€ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ì‘ì—… ìˆœì„œ ì¡°ì •ì„ ê¶Œì¥í•©ë‹ˆë‹¤.
                    </div>
                </div>

                <div class="prediction-item prediction-info">
                    <div class="prediction-header">
                        <div class="prediction-title">ë‚ ì”¨ ë³€í™” ì˜í–¥</div>
                        <div class="prediction-probability">45%</div>
                    </div>
                    <div class="prediction-description">
                        16:00 ì´í›„ ë°”ëŒì´ ê°•í•´ì§ˆ ì˜ˆì •ì…ë‹ˆë‹¤. ì™¸ë¶€ ê³ ì†Œì‘ì—… ì¤‘ë‹¨ì„ ê²€í† í•˜ì„¸ìš”.
                    </div>
                </div>

                <div class="prediction-item prediction-critical">
                    <div class="prediction-header">
                        <div class="prediction-title">ì¥ë¹„ ê³ ì¥ ì˜ˆì¸¡</div>
                        <div class="prediction-probability">89%</div>
                    </div>
                    <div class="prediction-description">
                        Bë™ í˜¸ì´ìŠ¤íŠ¸ #2ì˜ ì´ìƒ ì§„ë™ì´ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. 48ì‹œê°„ ë‚´ ì ê²€ì´ í•„ìš”í•©ë‹ˆë‹¤.
                    </div>
                </div>
            </div>

            <!-- ì‹¤ì‹œê°„ ì•Œë¦¼ -->
            <div class="live-alerts">
                <div class="section-header">
                    <div class="section-title">
                        <i class="fas fa-bell"></i>
                        ì‹¤ì‹œê°„ ì•Œë¦¼
                    </div>
                </div>

                <div class="alert-list" id="alert-list">
                    <div class="alert-item">
                        <div class="alert-icon status-warning"></div>
                        <div class="alert-content">
                            <div class="alert-text">Bë™ 3ì¸µ ì†ŒìŒ ê¸°ì¤€ì¹˜ ì´ˆê³¼</div>
                            <div class="alert-time">2ë¶„ ì „</div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon status-online"></div>
                        <div class="alert-content">
                            <div class="alert-text">Aë™ ì•ˆì „ì ê²€ ì™„ë£Œ</div>
                            <div class="alert-time">5ë¶„ ì „</div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon status-offline"></div>
                        <div class="alert-content">
                            <div class="alert-text">Cë™ ì„¼ì„œ #12 í†µì‹  ë‘ì ˆ</div>
                            <div class="alert-time">12ë¶„ ì „</div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon status-online"></div>
                        <div class="alert-content">
                            <div class="alert-text">ì‹ ê·œ ì‘ì—…ì 3ëª… ì¶œì…</div>
                            <div class="alert-time">18ë¶„ ì „</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì‘ê¸‰ ìƒí™© íŒ¨ë„ -->
            <div class="emergency-panel">
                <div class="section-header">
                    <div class="section-title">
                        <i class="fas fa-exclamation-triangle"></i>
                        ì‘ê¸‰ ìƒí™© ëŒ€ì‘
                    </div>
                </div>

                <div class="emergency-buttons">
                    <button class="emergency-btn" onclick="emergencyStop()">
                        <i class="fas fa-stop"></i> ì „ì²´ ì‘ì—… ì¤‘ì§€
                    </button>
                    <button class="emergency-btn" onclick="evacuation()">
                        <i class="fas fa-running"></i> ëŒ€í”¼ ëª…ë ¹
                    </button>
                    <button class="emergency-btn stop" onclick="fireAlarm()">
                        <i class="fas fa-fire"></i> í™”ì¬ ì‹ ê³ 
                    </button>
                    <button class="emergency-btn stop" onclick="medicalEmergency()">
                        <i class="fas fa-ambulance"></i> ì‘ê¸‰ ì˜ë£Œ
                    </button>
                </div>

                <div class="emergency-contacts">
                    <div style="font-weight: 600; margin-bottom: 10px; color: #f0f6fc;">ì‘ê¸‰ ì—°ë½ì²˜</div>
                    <div class="contact-item">
                        <span>í˜„ì¥ ì•ˆì „ê´€ë¦¬ì</span>
                        <button class="contact-call" onclick="callContact('010-1234-5678')">
                            <i class="fas fa-phone"></i> í†µí™”
                        </button>
                    </div>
                    <div class="contact-item">
                        <span>ì†Œë°©ì„œ (119)</span>
                        <button class="contact-call" onclick="callContact('119')">
                            <i class="fas fa-phone"></i> í†µí™”
                        </button>
                    </div>
                    <div class="contact-item">
                        <span>ë³‘ì› ì‘ê¸‰ì‹¤</span>
                        <button class="contact-call" onclick="callContact('1339')">
                            <i class="fas fa-phone"></i> í†µí™”
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì‘ì—…ì ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ -->
    <div id="workers-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="workers-modal-title">Aë™ ì‘ì—…ì í˜„í™©</div>
                <button class="modal-close" onclick="closeWorkersModal()">Ã—</button>
            </div>
            <div class="worker-grid" id="workers-grid">
                <!-- ì‘ì—…ì ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- CCTV ëª¨ë‹¬ -->
    <div id="cctv-modal" class="modal-overlay hidden">
        <div class="modal cctv-modal">
            <div class="modal-header">
                <div class="modal-title" id="cctv-modal-title">Aë™ CCTV ëª¨ë‹ˆí„°ë§</div>
                <button class="modal-close" onclick="closeCCTVModal()">Ã—</button>
            </div>
            <div class="cctv-grid" id="cctv-grid">
                <!-- CCTV ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- CCTV ì „ì²´í™”ë©´ ë·°ì–´ -->
    <div id="cctv-viewer" class="cctv-viewer hidden">
        <div class="cctv-viewer-header">
            <div class="cctv-viewer-title" id="cctv-viewer-title">Aë™ 1ì¸µ ë¡œë¹„ CCTV</div>
            <div class="cctv-controls">
                <button class="cctv-btn" onclick="toggleRecording()">
                    <i class="fas fa-record-vinyl"></i> ë…¹í™”
                </button>
                <button class="cctv-btn" onclick="takeSnapshot()">
                    <i class="fas fa-camera"></i> ìº¡ì²˜
                </button>
                <button class="cctv-btn" onclick="toggleFullscreen()">
                    <i class="fas fa-expand"></i> ì „ì²´í™”ë©´
                </button>
                <button class="cctv-btn" onclick="closeCCTVViewer()">
                    <i class="fas fa-times"></i> ë‹«ê¸°
                </button>
            </div>
        </div>
        <div class="cctv-viewer-content">
            <div class="cctv-screen">
                <div class="cctv-overlay" id="cctv-overlay">
                    ë¼ì´ë¸Œ â€¢ 14:32:15 â€¢ Aë™ 1ì¸µ ë¡œë¹„
                </div>
                <div class="cctv-feed">
                    <div style="color: #6e7681; text-align: center;">
                        <i class="fas fa-video" style="font-size: 4em; margin-bottom: 20px; opacity: 0.5;"></i>
                        <div style="font-size: 1.5em; margin-bottom: 10px;">ì‹¤ì‹œê°„ CCTV ì˜ìƒ</div>
                        <div style="font-size: 1em;">ì‹œì„¤ë³´ì•ˆìƒ ì‹¤ì œ ì˜ìƒì€ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</div>
                        <div style="font-size: 0.9em; margin-top: 20px; color: #58a6ff;">
                            ğŸ”´ LIVE â€¢ í•´ìƒë„: 1920x1080 â€¢ FPS: 30
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ -->
    <div id="checklist-detail-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title" id="checklist-detail-title">ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ë³´ê¸°</div>
                <button class="modal-close" onclick="closeChecklistDetail()">Ã—</button>
            </div>
            <div id="checklist-detail-content">
                <!-- ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <script>
        // ì‹¤ì‹œê°„ ì‹œê³„ ì—…ë°ì´íŠ¸
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ko-KR', {
                hour12: false,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('current-time').textContent = timeString;
        }

        // ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹œë®¬ë ˆì´ì…˜
        function updateDashboardData() {
            // ì‘ì—…ì ìˆ˜ ëœë¤ ì—…ë°ì´íŠ¸ (45-50 ì‚¬ì´)
            const workers = Math.floor(Math.random() * 6) + 45;
            document.getElementById('total-workers').textContent = workers;

            // í™œì„± ì„¼ì„œ ìˆ˜ (120-127 ì‚¬ì´)
            const sensors = Math.floor(Math.random() * 8) + 120;
            document.getElementById('active-sensors').textContent = sensors;

            // ìœ„í—˜ ì•Œë¦¼ (0-5 ì‚¬ì´)
            const alerts = Math.floor(Math.random() * 6);
            document.getElementById('risk-alerts').textContent = alerts;

            // ì•ˆì „ ì ìˆ˜ (88-95 ì‚¬ì´)
            const safety = Math.floor(Math.random() * 8) + 88;
            document.getElementById('safety-score').textContent = safety;
        }

        // ë‚ ì”¨ ë°ì´í„° ì—…ë°ì´íŠ¸
        function updateWeatherData() {
            const weatherConditions = [
                { icon: 'â˜€ï¸', condition: 'ë§‘ìŒ', temp: 22, feels: 20, impact: 'low', impactText: 'ëª¨ë“  ì‘ì—… ê°€ëŠ¥ (ìµœì )' },
                { icon: 'â›…', condition: 'êµ¬ë¦„ë§ìŒ', temp: 19, feels: 17, impact: 'low', impactText: 'ëª¨ë“  ì‘ì—… ê°€ëŠ¥ (ì–‘í˜¸)' },
                { icon: 'â˜ï¸', condition: 'íë¦¼', temp: 17, feels: 15, impact: 'medium', impactText: 'ê³ ì†Œì‘ì—… ì£¼ì˜ (ë³´í†µ)' },
                { icon: 'ğŸŒ§ï¸', condition: 'ë¹„', temp: 15, feels: 13, impact: 'high', impactText: 'ì™¸ë¶€ì‘ì—… ì œí•œ (ìœ„í—˜)' },
                { icon: 'ğŸ’¨', condition: 'ê°•í’', temp: 18, feels: 14, impact: 'high', impactText: 'í¬ë ˆì¸ ì‘ì—… ì¤‘ë‹¨ (ìœ„í—˜)' }
            ];

            const randomWeather = weatherConditions[Math.floor(Math.random() * weatherConditions.length)];
            
            // ë‚ ì”¨ ì•„ì´ì½˜ ë° ìƒíƒœ ì—…ë°ì´íŠ¸
            document.getElementById('weather-icon').textContent = randomWeather.icon;
            document.getElementById('weather-condition').textContent = randomWeather.condition;
            document.getElementById('weather-temp').textContent = `${randomWeather.temp}Â°C`;
            document.getElementById('feels-like').textContent = `${randomWeather.feels}Â°C`;

            // ìƒì„¸ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('humidity').textContent = `${Math.floor(Math.random() * 30) + 50}%`;
            document.getElementById('wind-speed').textContent = `${(Math.random() * 5 + 1).toFixed(1)}m/s`;
            document.getElementById('visibility').textContent = `${Math.floor(Math.random() * 5) + 8}km`;
            document.getElementById('precipitation').textContent = `${Math.floor(Math.random() * 60)}%`;

            // ì‘ì—… ì˜í–¥ë„ ì—…ë°ì´íŠ¸
            const impactIndicator = document.querySelector('.impact-indicator');
            const impactText = document.querySelector('.impact-text');
            
            impactIndicator.className = `impact-indicator impact-${randomWeather.impact}`;
            impactText.textContent = randomWeather.impactText;

            // ì—…ë°ì´íŠ¸ ì‹œê°„
            const now = new Date();
            const timeString = now.toLocaleTimeString('ko-KR', {
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('weather-update').textContent = `ë°©ê¸ˆ ì—…ë°ì´íŠ¸ (${timeString})`;
        }

        // ë·° ì „í™˜ í•¨ìˆ˜
        function switchView(viewType) {
            const buttons = document.querySelectorAll('.toggle-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (viewType === 'grid') {
                buttons[0].classList.add('active');
                // ê²©ìë·° ë¡œì§
            } else {
                buttons[1].classList.add('active');
                // ëª©ë¡ë·° ë¡œì§
            }
        }

        // ì„¼ì„œ ìƒˆë¡œê³ ì¹¨
        function refreshAllSensors() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<div class="loading"></div> ìƒˆë¡œê³ ì¹¨ ì¤‘...';
            btn.disabled = true;

            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                updateDashboardData();
                addAlert('ëª¨ë“  ì„¼ì„œ ë°ì´í„°ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì—ˆìŠµë‹ˆë‹¤.', 'online');
            }, 2000);
        }

        // AI ë¶„ì„ ì‹¤í–‰
        function runAIAnalysis() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<div class="loading"></div> ë¶„ì„ ì¤‘...';
            btn.disabled = true;

            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                addAlert('AI ìœ„í—˜ ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ì˜ˆì¸¡ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.', 'online');
            }, 3000);
        }

        // ë³´ê³ ì„œ ìƒì„±
        function generateReport() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<div class="loading"></div> ìƒì„± ì¤‘...';
            btn.disabled = true;

            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.disabled = false;
                addAlert('ì¼ì¼ ì•ˆì „ ë³´ê³ ì„œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.', 'online');
            }, 2500);
        }

        // ì‘ê¸‰ ìƒí™© í•¨ìˆ˜ë“¤
        function emergencyStop() {
            if (confirm('âš ï¸ ì „ì²´ ì‘ì—…ì„ ì¤‘ì§€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ì¦‰ì‹œ ëª¨ë“  í˜„ì¥ì— ì „íŒŒë©ë‹ˆë‹¤.')) {
                addAlert('ğŸš¨ ê¸´ê¸‰: ì „ì²´ ì‘ì—… ì¤‘ì§€ ëª…ë ¹ì´ ë°œë ¹ë˜ì—ˆìŠµë‹ˆë‹¤!', 'offline');
                alert('ì „ì²´ ì‘ì—… ì¤‘ì§€ ëª…ë ¹ì´ í˜„ì¥ì— ì „íŒŒë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function evacuation() {
            if (confirm('ğŸš¨ ëŒ€í”¼ ëª…ë ¹ì„ ë°œë ¹í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nëª¨ë“  ì‘ì—…ìì—ê²Œ ì¦‰ì‹œ ëŒ€í”¼ ì‹ í˜¸ê°€ ì „ì†¡ë©ë‹ˆë‹¤.')) {
                addAlert('ğŸš¨ ê¸´ê¸‰: ëŒ€í”¼ ëª…ë ¹ì´ ë°œë ¹ë˜ì—ˆìŠµë‹ˆë‹¤!', 'offline');
                alert('ëŒ€í”¼ ëª…ë ¹ì´ í˜„ì¥ ì „ì²´ì— ë°©ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function fireAlarm() {
            if (confirm('ğŸ”¥ í™”ì¬ ì‹ ê³ ë¥¼ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì†Œë°©ì„œì— ìë™ìœ¼ë¡œ ì‹ ê³ ë©ë‹ˆë‹¤.')) {
                addAlert('ğŸ”¥ í™”ì¬ ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì†Œë°©ì„œ ì¶œë™ ìš”ì²­.', 'offline');
                alert('ì†Œë°©ì„œì— í™”ì¬ ì‹ ê³ ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function medicalEmergency() {
            if (confirm('ğŸš‘ ì‘ê¸‰ ì˜ë£Œ ìƒí™©ì„ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n119ì™€ ì¸ê·¼ ë³‘ì›ì— ì—°ë½ë©ë‹ˆë‹¤.')) {
                addAlert('ğŸš‘ ì‘ê¸‰ ì˜ë£Œ ìƒí™© ì‹ ê³  ì™„ë£Œ. êµ¬ê¸‰ì°¨ ì¶œë™ ìš”ì²­.', 'offline');
                alert('ì‘ê¸‰ ì˜ë£ŒíŒ€ì— ì‹ ê³ ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function callContact(number) {
            alert(`ğŸ“ ${number}ë¡œ ì „í™”ë¥¼ ê²ë‹ˆë‹¤.`);
            // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì „í™” ê±¸ê¸° API í˜¸ì¶œ
        }

        // ì•Œë¦¼ ì¶”ê°€ í•¨ìˆ˜
        function addAlert(message, type) {
            const alertList = document.getElementById('alert-list');
            const newAlert = document.createElement('div');
            newAlert.className = 'alert-item';
            newAlert.innerHTML = `
                <div class="alert-icon status-${type}"></div>
                <div class="alert-content">
                    <div class="alert-text">${message}</div>
                    <div class="alert-time">ë°©ê¸ˆ ì „</div>
                </div>
            `;
            
            alertList.insertBefore(newAlert, alertList.firstChild);
            
            // 5ê°œ ì´ìƒì˜ ì•Œë¦¼ì´ ìˆìœ¼ë©´ ë§ˆì§€ë§‰ ê²ƒ ì œê±°
            if (alertList.children.length > 5) {
                alertList.removeChild(alertList.lastChild);
            }
        }

        // ì‘ì—…ì ë°ì´í„°
        const workersData = {
            'Aë™': [
                { name: 'ê¹€í˜„ìˆ˜', role: 'í˜„ì¥ê°ë…', location: 'Aë™ 3ì¸µ', status: 'online', avatar: 'ê¹€' },
                { name: 'ì´ì² ë¯¼', role: 'ì² ê·¼ê³µ', location: 'Aë™ 2ì¸µ', status: 'online', avatar: 'ì´' },
                { name: 'ë°•ì¤€í˜¸', role: 'ëª©ìˆ˜', location: 'Aë™ 3ì¸µ', status: 'online', avatar: 'ë°•' },
                { name: 'ì •ìš°ì§„', role: 'ì „ê¸°ê¸°ì‚¬', location: 'Aë™ 1ì¸µ', status: 'idle', avatar: 'ì •' },
                { name: 'ìµœë¯¼ìˆ˜', role: 'ë°°ê´€ê³µ', location: 'Aë™ ì§€í•˜1ì¸µ', status: 'online', avatar: 'ìµœ' },
                { name: 'ê°•íƒœìš±', role: 'ì² ê·¼ê³µ', location: 'Aë™ 3ì¸µ', status: 'online', avatar: 'ê°•' },
                { name: 'ìœ¤ìƒí˜¸', role: 'ëª©ìˆ˜', location: 'Aë™ 2ì¸µ', status: 'online', avatar: 'ìœ¤' },
                { name: 'ì„ë™í˜', role: 'ì•ˆì „ê´€ë¦¬ì', location: 'Aë™ í˜„ì¥ì‚¬ë¬´ì†Œ', status: 'online', avatar: 'ì„' }
            ],
            'Bë™': [
                { name: 'ì„œì¤€ì˜', role: 'í˜„ì¥ì†Œì¥', location: 'Bë™ 3ì¸µ', status: 'online', avatar: 'ì„œ' },
                { name: 'í•œì§€ë¯¼', role: 'ì² ê·¼ê³µ', location: 'Bë™ 2ì¸µ', status: 'online', avatar: 'í•œ' },
                { name: 'ì¡°ì„±í›ˆ', role: 'ì½˜í¬ë¦¬íŠ¸ê³µ', location: 'Bë™ 1ì¸µ', status: 'online', avatar: 'ì¡°' },
                { name: 'ë…¸ì˜ìˆ˜', role: 'ëª©ìˆ˜', location: 'Bë™ 3ì¸µ', status: 'idle', avatar: 'ë…¸' },
                { name: 'ë°±ìŠ¹ìš°', role: 'ì „ê¸°ê¸°ì‚¬', location: 'Bë™ 2ì¸µ', status: 'online', avatar: 'ë°±' },
                { name: 'ì‹ ë™ì¤€', role: 'ë°°ê´€ê³µ', location: 'Bë™ 1ì¸µ', status: 'online', avatar: 'ì‹ ' }
            ],
            'Cë™': [
                { name: 'í™ê¸¸ë™', role: 'ê¸°ê³„ê¸°ì‚¬', location: 'Cë™ ê¸°ê³„ì‹¤', status: 'online', avatar: 'í™' },
                { name: 'ê¹€ì˜í¬', role: 'ì „ê¸°ê¸°ì‚¬', location: 'Cë™ ì „ê¸°ì‹¤', status: 'online', avatar: 'ê¹€' },
                { name: 'ì´ìˆœì‹ ', role: 'ì‹œì„¤ê´€ë¦¬', location: 'Cë™ ê´€ë¦¬ì‹¤', status: 'online', avatar: 'ì´' },
                { name: 'ë°•ë¬¸ìˆ˜', role: 'ë³´ì•ˆìš”ì›', location: 'Cë™ ì£¼ì°¨ì¥', status: 'idle', avatar: 'ë°•' },
                { name: 'ì •ì•½ìš©', role: 'ì²­ì†Œê´€ë¦¬', location: 'Cë™ ì „ì²´', status: 'online', avatar: 'ì •' }
            ],
            'ì™¸ë¶€ì‘ì—…êµ¬ì—­': [
                { name: 'ì–‘ê¸°ì² ', role: 'í¬ë ˆì¸ê¸°ì‚¬', location: 'íƒ€ì›Œí¬ë ˆì¸ #1', status: 'online', avatar: 'ì–‘' },
                { name: 'ì†¡ë¯¼í˜¸', role: 'í¬ë ˆì¸ê¸°ì‚¬', location: 'íƒ€ì›Œí¬ë ˆì¸ #2', status: 'online', avatar: 'ì†¡' },
                { name: 'ê¹€ëŒ€í˜„', role: 'ì‹ í˜¸ìˆ˜', location: 'ì™¸ë¶€ ì‘ì—…ì¥', status: 'online', avatar: 'ê¹€' },
                { name: 'ì°¨ì€ìš°', role: 'ì•ˆì „ê´€ë¦¬ì', location: 'ì™¸ë¶€ í˜„ì¥', status: 'online', avatar: 'ì°¨' },
                { name: 'ì´ì¤€ê¸°', role: 'ì¥ë¹„ê´€ë¦¬', location: 'ì¥ë¹„ë³´ê´€ì†Œ', status: 'idle', avatar: 'ì´' }
            ]
        };

        // CCTV ë°ì´í„°
        const cctvData = {
            'Aë™': [
                { name: 'Aë™ 1ì¸µ ë¡œë¹„', location: '1ì¸µ ë©”ì¸ ì¶œì…êµ¬', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Aë™ 2ì¸µ ë³µë„', location: '2ì¸µ ì¤‘ì•™ ë³µë„', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Aë™ 3ì¸µ ì‘ì—…í˜„ì¥', location: '3ì¸µ ì² ê·¼ ì‘ì—…ì¥', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Aë™ 4ì¸µ ì‘ì—…í˜„ì¥', location: '4ì¸µ ì½˜í¬ë¦¬íŠ¸ ì‘ì—…ì¥', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Aë™ 5ì¸µ ì‘ì—…í˜„ì¥', location: '5ì¸µ ë§ˆê° ì‘ì—…ì¥', status: 'inactive', resolution: '1920x1080', fps: 0 },
                { name: 'Aë™ ì§€í•˜1ì¸µ', location: 'ì§€í•˜ ì£¼ì°¨ì¥', status: 'active', resolution: '1920x1080', fps: 30 }
            ],
            'Bë™': [
                { name: 'Bë™ 1ì¸µ í˜„ì¥ì‚¬ë¬´ì†Œ', location: '1ì¸µ í˜„ì¥ì‚¬ë¬´ì†Œ', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Bë™ 2ì¸µ ì‘ì—…í˜„ì¥', location: '2ì¸µ ê³¨ì¡° ì‘ì—…ì¥', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Bë™ 3ì¸µ ì‘ì—…í˜„ì¥', location: '3ì¸µ ë§ˆê° ì‘ì—…ì¥', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Bë™ ì˜¥ìƒ', location: 'ì˜¥ìƒ ì„¤ë¹„ ì„¤ì¹˜ì¥', status: 'inactive', resolution: '1920x1080', fps: 0 }
            ],
            'Cë™': [
                { name: 'Cë™ ê¸°ê³„ì‹¤', location: 'ì§€í•˜ ê¸°ê³„ì‹¤', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Cë™ ì „ê¸°ì‹¤', location: 'ì§€í•˜ ì „ê¸°ì‹¤', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Cë™ ì£¼ì°¨ì¥ Aêµ¬ì—­', location: 'ì§€í•˜ ì£¼ì°¨ì¥ A', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Cë™ ì£¼ì°¨ì¥ Bêµ¬ì—­', location: 'ì§€í•˜ ì£¼ì°¨ì¥ B', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'Cë™ ê´€ë¦¬ì‚¬ë¬´ì†Œ', location: '1ì¸µ ê´€ë¦¬ì‚¬ë¬´ì†Œ', status: 'active', resolution: '1920x1080', fps: 30 }
            ],
            'ì™¸ë¶€ì‘ì—…êµ¬ì—­': [
                { name: 'íƒ€ì›Œí¬ë ˆì¸ #1', location: 'ë¶ìª½ í¬ë ˆì¸', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'íƒ€ì›Œí¬ë ˆì¸ #2', location: 'ë‚¨ìª½ í¬ë ˆì¸', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'ì™¸ë¶€ ì‘ì—…ì¥ ì „ê²½', location: 'í˜„ì¥ ì „ì²´ ì¡°ë§', status: 'active', resolution: '4K UHD', fps: 60 },
                { name: 'ìì¬ ì ì¬ì¥', location: 'ë™ìª½ ìì¬ ë³´ê´€ì†Œ', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'í˜„ì¥ ì¶œì…êµ¬', location: 'ë©”ì¸ ê²Œì´íŠ¸', status: 'active', resolution: '1920x1080', fps: 30 },
                { name: 'ì¥ë¹„ ë³´ê´€ì†Œ', location: 'ì„œìª½ ì¥ë¹„ ì°½ê³ ', status: 'inactive', resolution: '1920x1080', fps: 0 }
            ]
        };

        // ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ ë°ì´í„°
        const checklistDetails = {
            'checklist-1': {
                title: 'Aë™ 3ì¸µ ì¼ì¼ ì•ˆì „ì ê²€',
                submitter: 'ê¹€í˜„ìˆ˜ ê´€ë¦¬ì',
                submitTime: '2ë¶„ ì „',
                location: 'Aë™ 3ì¸µ',
                completionRate: '100%',
                items: [
                    { section: 'PPE ì ê²€', item: 'ì•ˆì „ëª¨ ì°©ìš© í™•ì¸', status: 'completed', priority: 'í•„ìˆ˜' },
                    { section: 'PPE ì ê²€', item: 'ì•ˆì „í™” ì°©ìš© í™•ì¸', status: 'completed', priority: 'í•„ìˆ˜' },
                    { section: 'PPE ì ê²€', item: 'ì•ˆì „ì¡°ë¼ ì°©ìš© í™•ì¸', status: 'completed', priority: 'ê¶Œì¥' },
                    { section: 'ì¥ë¹„ ì ê²€', item: 'í¬ë ˆì¸ ì‘ë™ ì ê²€', status: 'completed', priority: 'í•„ìˆ˜' },
                    { section: 'ì¥ë¹„ ì ê²€', item: 'ì „ë™ê³µêµ¬ ì ê²€', status: 'completed', priority: 'ê¶Œì¥' },
                    { section: 'í™˜ê²½ ì ê²€', item: 'ì‘ì—…êµ¬ì—­ ì •ë¦¬ì •ëˆ', status: 'completed', priority: 'í•„ìˆ˜' },
                    { section: 'ì•ˆì „êµìœ¡', item: 'ì¼ì¼ ì•ˆì „êµìœ¡ ì‹¤ì‹œ', status: 'completed', priority: 'í•„ìˆ˜' }
                ]
            },
            'checklist-2': {
                title: 'Bë™ 1ì¸µ PPE ì ê²€',
                submitter: 'ì´ì² í˜¸ ì‘ì—…ì',
                submitTime: '15ë¶„ ì „',
                location: 'Bë™ 1ì¸µ',
                completionRate: '75%',
                items: [
                    { section: 'PPE ì ê²€', item: 'ì•ˆì „ëª¨ ì°©ìš© í™•ì¸', status: 'completed', priority: 'í•„ìˆ˜' },
                    { section: 'PPE ì ê²€', item: 'ì•ˆì „í™” ì°©ìš© í™•ì¸', status: 'completed', priority: 'í•„ìˆ˜' },
                    { section: 'PPE ì ê²€', item: 'ì•ˆì „ì¡°ë¼ ì°©ìš© í™•ì¸', status: 'pending', priority: 'ê¶Œì¥' },
                    { section: 'PPE ì ê²€', item: 'ì•ˆì „ë²¨íŠ¸ ì ê²€', status: 'completed', priority: 'í•„ìˆ˜' }
                ]
            }
        };

        // ì‘ì—…ì ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ í‘œì‹œ
        function showWorkersList(building) {
            const modal = document.getElementById('workers-modal');
            const title = document.getElementById('workers-modal-title');
            const grid = document.getElementById('workers-grid');
            
            title.textContent = `${building} ì‘ì—…ì í˜„í™©`;
            grid.innerHTML = '';
            
            const workers = workersData[building] || [];
            workers.forEach(worker => {
                const workerCard = document.createElement('div');
                workerCard.className = 'worker-card';
                workerCard.innerHTML = `
                    <div class="worker-header">
                        <div class="worker-avatar-modal">${worker.avatar}</div>
                        <div class="worker-details">
                            <div class="worker-name-modal">${worker.name}</div>
                            <div class="worker-role-modal">${worker.role}</div>
                        </div>
                    </div>
                    <div class="worker-status-row">
                        <div class="worker-location">ğŸ“ ${worker.location}</div>
                        <div class="worker-status-badge status-${worker.status}">
                            ${worker.status === 'online' ? 'ê·¼ë¬´ì¤‘' : worker.status === 'idle' ? 'ëŒ€ê¸°ì¤‘' : 'ì˜¤í”„ë¼ì¸'}
                        </div>
                    </div>
                `;
                grid.appendChild(workerCard);
            });
            
            modal.classList.remove('hidden');
        }

        // ì‘ì—…ì ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ ë‹«ê¸°
        function closeWorkersModal() {
            document.getElementById('workers-modal').classList.add('hidden');
        }

        // CCTV ëª¨ë‹¬ í‘œì‹œ
        function showCCTVModal(building) {
            const modal = document.getElementById('cctv-modal');
            const title = document.getElementById('cctv-modal-title');
            const grid = document.getElementById('cctv-grid');
            
            title.textContent = `${building} CCTV ëª¨ë‹ˆí„°ë§`;
            grid.innerHTML = '';
            
            const cctvs = cctvData[building] || [];
            cctvs.forEach((cctv, index) => {
                const cctvCard = document.createElement('div');
                cctvCard.className = 'cctv-card';
                cctvCard.onclick = () => openCCTVViewer(building, index);
                cctvCard.innerHTML = `
                    <div class="cctv-header">
                        <div class="cctv-title">${cctv.name}</div>
                        <div class="cctv-status ${cctv.status === 'active' ? 'cctv-active' : 'cctv-inactive'}">
                            ${cctv.status === 'active' ? 'í™œì„±' : 'ë¹„í™œì„±'}
                        </div>
                    </div>
                    <div class="cctv-preview">
                        <div class="cctv-placeholder">
                            <i class="fas fa-video" style="font-size: 2em; margin-bottom: 10px; opacity: 0.3;"></i>
                            <div style="font-size: 0.9em;">${cctv.status === 'active' ? 'ì‹¤ì‹œê°„ ì˜ìƒ' : 'ì‹ í˜¸ ì—†ìŒ'}</div>
                        </div>
                    </div>
                    <div class="cctv-info">
                        <span>ğŸ“ ${cctv.location}</span>
                        <span>${cctv.resolution} â€¢ ${cctv.fps}fps</span>
                    </div>
                `;
                grid.appendChild(cctvCard);
            });
            
            modal.classList.remove('hidden');
        }

        // CCTV ëª¨ë‹¬ ë‹«ê¸°
        function closeCCTVModal() {
            document.getElementById('cctv-modal').classList.add('hidden');
        }

        // CCTV ì „ì²´í™”ë©´ ë·°ì–´ ì—´ê¸°
        function openCCTVViewer(building, cctvIndex) {
            const cctv = cctvData[building][cctvIndex];
            const viewer = document.getElementById('cctv-viewer');
            const title = document.getElementById('cctv-viewer-title');
            const overlay = document.getElementById('cctv-overlay');
            
            title.textContent = cctv.name;
            
            const now = new Date();
            const timeString = now.toLocaleTimeString('ko-KR');
            overlay.textContent = `ë¼ì´ë¸Œ â€¢ ${timeString} â€¢ ${cctv.location}`;
            
            viewer.classList.remove('hidden');
            closeCCTVModal(); // CCTV ëª¨ë‹¬ ë‹«ê¸°
        }

        // CCTV ë·°ì–´ ë‹«ê¸°
        function closeCCTVViewer() {
            document.getElementById('cctv-viewer').classList.add('hidden');
        }

        // CCTV ì œì–´ ê¸°ëŠ¥ë“¤
        function toggleRecording() {
            alert('ğŸ“¹ ë…¹í™”ê°€ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        function takeSnapshot() {
            alert('ğŸ“¸ ìŠ¤í¬ë¦°ìƒ·ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ë³´ê¸°
        function viewChecklistDetail(checklistId) {
            const modal = document.getElementById('checklist-detail-modal');
            const title = document.getElementById('checklist-detail-title');
            const content = document.getElementById('checklist-detail-content');
            
            const checklist = checklistDetails[checklistId];
            if (!checklist) return;
            
            title.textContent = checklist.title;
            
            let itemsHtml = '';
            checklist.items.forEach(item => {
                const statusIcon = item.status === 'completed' ? 'âœ…' : 'â¸ï¸';
                const statusColor = item.status === 'completed' ? '#2ea043' : '#fb8500';
                const priorityColor = item.priority === 'í•„ìˆ˜' ? '#f85149' : item.priority === 'ê¶Œì¥' ? '#fb8500' : '#2ea043';
                
                itemsHtml += `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #21262d;">
                        <div>
                            <div style="font-weight: 600; color: #f0f6fc; margin-bottom: 3px;">
                                ${statusIcon} ${item.item}
                            </div>
                            <div style="font-size: 0.8em; color: #8b949e;">
                                ${item.section}
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: ${statusColor}; font-size: 0.8em; margin-bottom: 3px;">
                                ${item.status === 'completed' ? 'ì™„ë£Œ' : 'ëŒ€ê¸°ì¤‘'}
                            </div>
                            <div style="background: ${priorityColor}; color: white; padding: 2px 6px; border-radius: 10px; font-size: 0.7em;">
                                ${item.priority}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            content.innerHTML = `
                <div style="background: #21262d; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 10px;">
                        <div>
                            <div style="color: #8b949e; font-size: 0.8em;">ì œì¶œì</div>
                            <div style="color: #f0f6fc; font-weight: 600;">${checklist.submitter}</div>
                        </div>
                        <div>
                            <div style="color: #8b949e; font-size: 0.8em;">ì œì¶œì‹œê°„</div>
                            <div style="color: #f0f6fc; font-weight: 600;">${checklist.submitTime}</div>
                        </div>
                        <div>
                            <div style="color: #8b949e; font-size: 0.8em;">ìœ„ì¹˜</div>
                            <div style="color: #f0f6fc; font-weight: 600;">ğŸ“ ${checklist.location}</div>
                        </div>
                        <div>
                            <div style="color: #8b949e; font-size: 0.8em;">ì™„ë£Œìœ¨</div>
                            <div style="color: #2ea043; font-weight: 600; font-size: 1.2em;">${checklist.completionRate}</div>
                        </div>
                    </div>
                </div>
                
                <div style="font-size: 1em; font-weight: 600; color: #f0f6fc; margin-bottom: 15px;">
                    ì²´í¬ë¦¬ìŠ¤íŠ¸ í•­ëª© (${checklist.items.length}ê°œ)
                </div>
                
                <div style="max-height: 400px; overflow-y: auto;">
                    ${itemsHtml}
                </div>
            `;
            
            modal.classList.remove('hidden');
        }

        // ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ë‹«ê¸°
        function closeChecklistDetail() {
            document.getElementById('checklist-detail-modal').classList.add('hidden');
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal-overlay')) {
                event.target.classList.add('hidden');
            }
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Safe Con-BIM Phase 2 ëŒ€ì‹œë³´ë“œ ë¡œë“œ ì™„ë£Œ');
            updateTime();
            updateDashboardData();
            updateWeatherData();
            
            // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ì„¤ì •
            setInterval(updateTime, 1000);
            setInterval(updateDashboardData, 10000); // 10ì´ˆë§ˆë‹¤ ë°ì´í„° ì—…ë°ì´íŠ¸
            setInterval(updateWeatherData, 60000); // 1ë¶„ë§ˆë‹¤ ë‚ ì”¨ ì—…ë°ì´íŠ¸
            
            // ëœë¤ ì•Œë¦¼ ìƒì„± (ë°ëª¨ìš©)
            setInterval(() => {
                const messages = [
                    'PPE ì°©ìš©ë¥  ì²´í¬ ì™„ë£Œ',
                    'í™˜ê²½ ì„¼ì„œ ì •ìƒ ì‘ë™ í™•ì¸',
                    'ì‘ì—…ì ì¶œì… ê¸°ë¡ ì—…ë°ì´íŠ¸',
                    'AI ë¶„ì„ ê²°ê³¼ ì—…ë°ì´íŠ¸',
                    'ì•ˆì „ ì ê²€ ì¼ì • ì•Œë¦¼'
                ];
                const types = ['online', 'warning', 'online', 'online', 'warning'];
                const randomIndex = Math.floor(Math.random() * messages.length);
                addAlert(messages[randomIndex], types[randomIndex]);
            }, 30000); // 30ì´ˆë§ˆë‹¤ ëœë¤ ì•Œë¦¼
        });
    </script>
</body>
</html> 